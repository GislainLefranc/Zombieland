<!-- Dossier : database, Fichier : create_database.sql -->

# Histoires d'utilisateur pour la base de données Welleat

Les histoires d'utilisateur suivantes sont dérivées du schéma de la base de données et des associations des modèles pour le projet Welleat.

---

## 1. Gestion des utilisateurs et des rôles

### Gestion des utilisateurs
- **Opérations CRUD sur les utilisateurs**  
  *En tant qu'administrateur, je souhaite créer, lire, mettre à jour et supprimer des utilisateurs afin de gérer l'accès au système.*

- **Attribution des rôles**  
  *En tant qu'administrateur, je souhaite attribuer des rôles aux utilisateurs afin que chacun dispose des autorisations appropriées.*

### Gestion des rôles
- **Définition des rôles**  
  *En tant qu'administrateur, je souhaite définir des rôles avec des noms et des descriptions uniques afin que les permissions soient clairement séparées.*

---

## 2. Gestion des entreprises et des interlocuteurs

### Gestion des entreprises
- **Création et gestion des entreprises**  
  *En tant qu'utilisateur, je souhaite créer et gérer des entreprises en renseignant le nom, l'adresse, la ville, le code postal, etc., afin de disposer d'informations clients précises.*

- **Association des entreprises aux utilisateurs**  
  *En tant qu'utilisateur, je souhaite associer des entreprises à des utilisateurs spécifiques (créateur et assigné) afin que les responsabilités soient clairement définies.*

### Gestion des interlocuteurs
- **Gestion des contacts**  
  *En tant qu'utilisateur, je souhaite créer et gérer des interlocuteurs pour les entreprises afin de pouvoir communiquer efficacement avec les parties prenantes.*

- **Désignation du contact principal**  
  *En tant qu'utilisateur, je souhaite désigner un interlocuteur principal pour identifier le contact privilégié de chaque entreprise.*

---

## 3. Gestion des fonctionnements et des simulations

### Fonctionnements
- **Enregistrement des détails opérationnels**  
  *En tant qu'utilisateur, je souhaite enregistrer les informations de fonctionnement d'une entreprise (comme les modes de fonctionnement) afin de suivre son activité opérationnelle.*

### Simulations
- **Création d'une simulation**  
  *En tant qu'utilisateur, je souhaite créer une simulation en renseignant des paramètres tels que le coût par plat, le nombre de plats par jour, le pourcentage de gaspillage et les économies calculées afin d'estimer les bénéfices potentiels pour une entreprise.*

- **Mise à jour du statut de la simulation**  
  *En tant qu'utilisateur, je souhaite mettre à jour le statut d'une simulation (projet, en attente, approuvé, rejeté) afin d'en suivre l'avancement.*

---

## 4. Gestion des formules, équipements et options

### Formules
- **Création et gestion des formules**  
  *En tant qu'utilisateur, je souhaite créer et gérer des formules en renseignant le nom, la description et les tarifs (prix de base, installation, maintenance, hotline) afin de proposer différents forfaits aux clients.*

- **Association des équipements et des options aux formules**  
  *En tant qu'utilisateur, je souhaite associer des équipements et des options aux formules afin que chaque forfait soit correctement configuré.*

### Équipements
- **Ajout et gestion des équipements**  
  *En tant qu'utilisateur, je souhaite ajouter et gérer des équipements avec des informations telles que la tarification, les remises et l'affectation à une catégorie afin de pouvoir les intégrer dans des devis.*

- **Affectation à des catégories avec option par défaut**  
  *En tant qu'utilisateur, je souhaite affecter des équipements à des catégories, y compris une catégorie par défaut « Non catégorisé » pour les équipements non assignés, afin de les organiser.*

### Options
- **Ajout et gestion des options**  
  *En tant qu'utilisateur, je souhaite ajouter et gérer des options avec des détails de tarification afin de proposer des services complémentaires dans les devis.*

- **Affectation à des catégories avec option par défaut**  
  *En tant qu'utilisateur, je souhaite affecter des options à des catégories, y compris une catégorie par défaut « Non catégorisé » pour les options non spécifiées, afin d'assurer une bonne organisation.*

- **Protection des catégories par défaut**  
  *En tant que système, je dois protéger les catégories par défaut contre toute suppression ou modification qui pourrait compromettre l'intégrité du système.*

---

## 5. Gestion des devis

### Devis
- **Création et gestion des devis**  
  *En tant qu'utilisateur commercial, je souhaite créer et gérer des devis en renseignant le statut, la date de validité, la durée d'engagement et la répartition des tarifs (HT/TTC) afin de formaliser les offres aux clients.*

- **Association avec plusieurs entités**  
  *En tant qu'utilisateur, je souhaite lier les devis aux entreprises, aux utilisateurs, aux formules, aux équipements, aux options et aux interlocuteurs afin que toutes les données connexes soient accessibles.*

- **Suivi du cycle de vie du devis**  
  *En tant qu'utilisateur, je souhaite mettre à jour le statut d'un devis (projet, accepté, refusé, en cours, terminé) afin de suivre efficacement son avancement.*

### Détail du devis (équipements et options)
- **Composition détaillée du devis**  
  *En tant qu'utilisateur, je souhaite inclure plusieurs équipements et options dans un devis en précisant la quantité, le tarif unitaire et les remises afin d'obtenir un devis complet.*

- **Offres promotionnelles**  
  *En tant qu'utilisateur, je souhaite indiquer si la première unité d'un équipement est offerte afin de refléter correctement les promotions dans le devis.*
