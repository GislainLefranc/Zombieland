@baseUrl = http://localhost:5000/api
@adminToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJhbGljZS5kdXBvbnRAZXhhbXBsZS5jb20iLCJyb2xlSWQiOjEsImlhdCI6MTczNzU4MjMxMCwiZXhwIjoxNzM3NTg1OTEwfQ.DUIPz6g4EoVi6c8v1omBnygxIw6To7EcB4vqRcyB1M4
@randomSuffix = {{Math.floor(Date.now()/1000)}}

### LOGIN ADMIN
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "alice.dupont@example.com",
  "password": "password1"
}

### GET TOUS LES ÉQUIPEMENTS
GET {{baseUrl}}/equipments
Authorization: Bearer {{adminToken}}

### GET CATÉGORIES D'ÉQUIPEMENTS
GET {{baseUrl}}/equipments/categories
Authorization: Bearer {{adminToken}}

### CRÉER UN ÉQUIPEMENT
POST {{baseUrl}}/equipments
Content-Type: application/json
Authorization: Bearer {{adminToken}}

{
  "name": "Équipement Test {{randomSuffix}}",
  "description": "Description de l'équipement de test",
  "free_equipment": false,
  "price_ht": 100,
  "price": 120,
  "equipment_category_id": 1,     
  "notes": "Notes de test",
  "formula_discount": 5,
  "formula_compatible": true,
  "image": "http://exemple.com/image.jpg"
}

### METTRE À JOUR UN ÉQUIPEMENT - Mise à jour complète
PUT {{baseUrl}}/equipments/32
Content-Type: application/json
Authorization: Bearer {{adminToken}}

{
  "name": "Équipement Test MAJ {{randomSuffix}}",
  "description": "Description mise à jour",
  "free_equipment": false,
  "price_ht": 150,
  "price": 180,
  "equipment_category_id": 1,
  "notes": "Notes mises à jour",
  "formula_discount": 10,
  "formula_compatible": true,
  "image": "http://exemple.com/image-updated.jpg"
}

### METTRE À JOUR UN ÉQUIPEMENT - Mise à jour partielle
PUT {{baseUrl}}/equipments/3
Content-Type: application/json
Authorization: Bearer {{adminToken}}

{
  "name": "Équipement Test Simple MAJ {{randomSuffix}}",
  "price_ht": 150,
  "price": 180
}

### METTRE À JOUR UN ÉQUIPEMENT - Test erreur ID invalide
PUT {{baseUrl}}/equipments/999
Content-Type: application/json
Authorization: Bearer {{adminToken}}

{
  "name": "Test Erreur",
  "price_ht": 150,
  "price": 180
}

### SUPPRIMER UN ÉQUIPEMENT
DELETE {{baseUrl}}/equipments/5
Authorization: Bearer {{adminToken}}


### CRÉER UNE CATÉGORIE D'ÉQUIPEMENT
POST {{baseUrl}}/equipments/categories
Content-Type: application/json
Authorization: Bearer {{adminToken}}

{
  "name": "Catégoruie Test {{randomSuffix}}",
  "description": "Description de la catégorie de test"
}

### LISTER LES CATÉGORIES D'ÉQUIPEMENT
GET {{baseUrl}}/equipments/categories
Authorization: Bearer {{adminToken}}

### METTRE À JOUR UNE CATÉGORIE D'ÉQUIPEMENT
PUT {{baseUrl}}/equipments/categories/1
Content-Type: application/json
Authorization: Bearer {{adminToken}}

{
  "name": "Catégorie Test MAJ {{randomSuffix}}",
  "description": "Description mise à jour"
}

### SUPPRIMER UNE CATÉGORIE D'ÉQUIPEMENT
DELETE {{baseUrl}}/equipments/categories/5
Authorization: Bearer {{adminToken}}

### CRÉER UN ÉQUIPEMENT DANS UNE CATÉGORIE
POST {{baseUrl}}/equipments
Content-Type: application/json
Authorization: Bearer {{adminToken}}

{
  "name": "Équipement Test {{randomSuffix}}",
  "description": "Description de l'équipement",
  "free_equipment": false,
  "price_ht": 100,
  "price": 120,
  "equipment_category_id": 1,
  "notes": "Notes de test",
  "formula_discount": 5,
  "formula_compatible": true
}


####################
POST {{baseUrl}}/equipments/categories
Content-Type: application/json
Authorization: Bearer {{adminToken}}

{
  "name": "Nouvelle Catégorie Équipement",
  "description": "Description de la nouvelle catégorie d'équipement"
}

### OBTENIR LES ÉQUIPEMENTS D'UNE CATÉGORIE SPÉCIFIQUE
GET {{baseUrl}}/equipments?category_id=36
Authorization: Bearer {{adminToken}}

### CRÉER UNE CATÉGORIE D'ÉQUIPEMENT
POST {{baseUrl}}/equipments/categories
Content-Type: application/json
Authorization: Bearer {{adminToken}}

{
  "name": "Catégorie Test 36",
  "description": "Description de la catégorie 36"
}

### CRÉER UN ÉQUIPEMENT DANS LA CATÉGORIE 36
POST {{baseUrl}}/equipments
Content-Type: application/json
Authorization: Bearer {{adminToken}}

{
  "name": "Équipement Test Catégorie 36",
  "description": "Description de l'équipement lié à la catégorie 36",
  "free_equipment": false,
  "price_ht": 200,
  "price": 240,
  "equipment_category_id": 36,
  "notes": "Notes de test pour la catégorie 36",
  "formula_discount": 10,
  "formula_compatible": true,
  "image": "http://exemple.com/image-categorie36.jpg"
}

### OBTENIR LES ÉQUIPEMENTS D'UNE CATÉGORIE SPÉCIFIQUE
GET {{baseUrl}}/equipments?category_id=36
Authorization: Bearer {{adminToken}}